{% extends "base.html" %}
{% block title %}{{ _('Create person â€” geneweb-py') }}{% endblock %}

{% block content %}
  <div class="card">
  <h1>{{ _('Create person') }}</h1>
    <form method="post" action="/person/create">
      <div class="form-row">
  <label>{{ _('First name') }}: <input type="text" name="first_name" required></label>
      </div>
      <div class="form-row">
  <label>{{ _('Surname') }}: <input type="text" name="surname" required></label>
      </div>
      <div class="form-row">
  <label>{{ _('Sex') }}:
          <select name="sex">
            <option value="">{{ _('(unknown)') }}</option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </label>
      </div>
      <div class="form-row">
  <label>{{ _('Birth date') }}: <input type="text" name="birth_date" placeholder="{{ _('e.g. 1900 or 12 JAN 1900') }}"></label>
      </div>
      <div class="form-row">
  <label>{{ _('Birth place') }}: <input type="text" name="birth_place" placeholder="{{ _('e.g. Town, County') }}"></label>
      </div>
      <div class="form-row">
        <label>{{ _('Birth note') }}:
          <textarea name="birth_note" rows="2" placeholder="{{ _('Optional notes about birth') }}"></textarea>
        </label>
      </div>
      <div class="form-row">
  <label>{{ _('Death date') }}: <input type="text" name="death_date" placeholder="{{ _('e.g. 1980 or 10 MAY 1980') }}"></label>
      </div>
      <div class="form-row">
  <label>{{ _('Death place') }}: <input type="text" name="death_place" placeholder="{{ _('e.g. Town, County') }}"></label>
      </div>
      <div class="form-row">
        <label>{{ _('Death note') }}:
          <textarea name="death_note" rows="2" placeholder="{{ _('Optional notes about death') }}"></textarea>
        </label>
      </div>
      <div class="form-row">
  <label>{{ _('Events:') }}</label>
        <div>
          {% set rows = event_rows or 1 %}
            {% for i in range(rows) %}
              <div class="event-row" style="margin-bottom:10px;padding:6px;border:1px solid #eee;border-radius:4px;">
                <div style="margin-bottom:6px;font-weight:600">{{ _('Event') }} {{ loop.index }}</div>
                <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
                  <input type="text" name="pevent_kind" placeholder="{{ _('Type (e.g. BAPTISM)') }}" />
                  <input type="text" name="pevent_date" placeholder="{{ _('Date (e.g. 12 JAN 1900)') }}" />
                  <input type="text" name="pevent_place" placeholder="{{ _('Place') }}" />
                  <input type="text" name="pevent_note" placeholder="{{ _('Note') }}" />
                </div>
              </div>
            {% endfor %}
          <p><a href="/person/create?event_rows={{ rows + 1 }}">{{ _('Add event') }}</a></p>
        </div>
      </div>
      <div class="form-row">
  <button type="submit">{{ _('Create') }}</button>
  <a class="button secondary" href="/">{{ _('Cancel') }}</a>
      </div>
    </form>
  </div>
{% endblock %}
